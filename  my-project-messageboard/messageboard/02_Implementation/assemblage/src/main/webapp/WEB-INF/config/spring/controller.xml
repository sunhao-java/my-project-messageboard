<?xml version="1.0" encoding="UTF-8"?>
<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
				http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
	
	<bean id="beanHandler" class="java.util.ArrayList">
        <constructor-arg>
            <list>
            	<bean class="com.message.base.spring.BeanHandler">
                    <property name="clazz" value="com.message.main.login.pojo.LoginUser"/>
                    <property name="value" ref="testHandlerFactory"/>
                </bean>
            </list>
        </constructor-arg>
    </bean>
    
    <bean id="testHandlerFactory" class="com.message.main.login.service.impl.LoginUserBeanHandlerFactory"/>

    <bean id="loginController" class="com.message.main.login.web.LoginController">
        <property name="loginService" ref="loginService"/>
    </bean>

	<!-- 事件的controller -->
	<bean id="eventController" class="com.message.main.event.web.EventController">
		<property name="eventService" ref="eventService"/>
	</bean>
	
	<!-- 主页的controller -->
	<bean id="homeController" class="com.message.main.home.web.HomeController">
		<property name="historyService" ref="historyService"/>
        <property name="menuService" ref="menuService"/>
	</bean>
	
	<!-- 登录历史的controller -->
	<bean id="historyController" class="com.message.main.history.web.HistoryController">
    	<property name="historyService" ref="historyService"/>
    </bean>
    
    <!-- 留言板信息的controller -->
    <bean id="infoController" class="com.message.main.info.web.InfoController">
    	<property name="infoService" ref="infoService"/>
    </bean>
    
    <!-- 留言的controller -->
    <bean id="messageController" class="com.message.main.message.web.MessageController">
    	<property name="messageService" ref="messageService"/>
    	<property name="userService" ref="userService"/>
    </bean>
    
    <!-- 回复的controller -->
    <bean id="replyController" class="com.message.main.reply.web.ReplyController">
    	<property name="replyService" ref="replyService"/>
    </bean>
    
    <!-- 用户的controller -->
    <bean id="userController" class="com.message.main.user.web.UserController">
    	<property name="userService" ref="userService"/>
    	<property name="userPrivacyService" ref="userPrivacyService"/>
    	<property name="friendService" ref="friendService"/>
    	<property name="albumService" ref="albumService"/>
    	<property name="messageService" ref="messageService"/>
    </bean>
    
    <!-- 用户隐私配置的controller -->
    <bean id="userPrivacyController" class="com.message.main.user.web.UserPrivacyController">
    	<property name="userPrivacyService" ref="userPrivacyService"/>
    </bean>
    
    <!-- 投票的controller -->
    <bean id="voteController" class="com.message.main.vote.web.VoteController">
    	<property name="voteService" ref="voteService"/>
    </bean>
    
    <!-- 菜单的controller -->
    <bean id="menuController" class="com.message.main.menu.web.MenuController">
    	<property name="menuService" ref="menuService"/>
    </bean>

    <!-- 不用登录就可访问的controller -->
    <bean id="guestController" class="com.message.main.home.web.GuestController">
        <property name="userService" ref="userService"/>
    </bean>
    
    <!-- 文件上传的controller -->
    <bean id="uploadController" class="com.message.main.upload.web.UploadController">
        <property name="uploadService" ref="uploadService"/>
        <property name="attachmentService" ref="attachmentService"/>
    </bean>

    <!-- 文件下载的controller -->
    <bean id="downloadFileController" class="com.message.main.upload.web.DownloadFileController">
        <property name="viewName" value="${file.download.redirect}"/>
    </bean>
    
    <!-- 相册的controller -->
    <bean id="albumController" class="com.message.main.album.web.AlbumController">
    	<property name="albumService" ref="albumService"/>
    </bean>
	
	<bean id="resourceController" class="com.message.main.home.web.ResourceController">
	</bean>
	
	<!-- 好友模块的controller -->
	<bean id="friendController" class="com.message.main.friend.web.FriendController">
		<property name="friendService" ref="friendService"/>
		<property name="userService" ref="userService"/>
	</bean>
	
	<!-- 发布吐槽模块的controller -->
	<bean id="tweetController" class="com.message.main.tweet.web.TweetController">
		<property name="tweetService" ref="tweetService"/>
	</bean>
</beans>