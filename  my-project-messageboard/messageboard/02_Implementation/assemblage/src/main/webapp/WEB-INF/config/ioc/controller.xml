<?xml version="1.0" encoding="UTF-8"?>
<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
				http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
	
	<!-- 事件的controller -->
	<bean id="eventController" class="com.message.main.event.web.EventController">
		<property name="methodNameResolver">
			<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
				<property name="mappings">
					<props>
						<prop key="/event/listEvent.do">listEvent</prop>
					</props>
				</property>
			</bean>
		</property>
		<property name="eventService" ref="eventService"/>
	</bean>
	
	<!-- 主页的controller -->
	<bean id="homeController" class="com.message.main.home.web.HomeController">
		<property name="methodNameResolver">
			<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
				<property name="mappings">
					<props>
						<prop key="/home/index.do">index</prop>
						<prop key="/home/left.do">left</prop>
						<prop key="/home/top.do">top</prop>
						<prop key="/home/tail.do">tail</prop>
						<prop key="/home/inMessageIndex.do">inMessageIndex</prop>
                        <prop key="/home/checkPerm.do">checkPerm</prop>
					</props>
				</property>
			</bean>
		</property>
		<property name="historyService" ref="historyService"/>
        <property name="menuService" ref="menuService"/>
	</bean>
	
	<!-- 登录历史的controller -->
	<bean id="historyController" class="com.message.main.history.web.HistoryController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/history/listLoginHistory.do">listLoginHistory</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="historyService" ref="historyService"/>
    </bean>
    
    <!-- 留言板信息的controller -->
    <bean id="infoController" class="com.message.main.info.web.InfoController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/info/inViewInfoJsp.do">inViewInfoJsp</prop>
    					<prop key="/info/inEditInfoJsp.do">inEditInfoJsp</prop>
    					<prop key="/info/saveInfo.do">saveInfo</prop>
    					<prop key="/info/inListInfoHistoryJsp.do">inListInfoHistoryJsp</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="infoService" ref="infoService"/>
    </bean>
    
    <!-- 留言的controller -->
    <bean id="messageController" class="com.message.main.message.web.MessageController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/message/listMessage.do">listMessage</prop>
    					<prop key="/message/inPublishMessageJsp.do">inPublishMessageJsp</prop>
    					<prop key="/message/saveMessage.do">saveMessage</prop>
    					<prop key="/message/listMessageAdmin.do">listMessageForAdmin</prop>
    					<prop key="/message/viewMessage.do">viewMessage</prop>
    					<prop key="/message/deleteMessage.do">deleteMessage</prop>
    					<prop key="/message/inDetailJsp.do">inDetailJsp</prop>
    					<prop key="/message/inListMyMessageJsp.do">inListMyMessageJsp</prop>
    					<prop key="/message/listToAuditMessage.do">listToAuditMessage</prop>
    					<prop key="/message/setAudit.do">setAudit</prop>
    					<prop key="/message/listAuditNoMessage.do">listAuditNoMessage</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="messageService" ref="messageService"/>
    	<property name="userService" ref="userService"/>
    </bean>
    
    <!-- 回复的controller -->
    <bean id="replyController" class="com.message.main.reply.web.ReplyController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/reply/deleteReply.do">deleteReply</prop>
    					<prop key="/reply/replyMessage.do">replyMessage</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="replyService" ref="replyService"/>
    </bean>
    
    <!-- 用户的controller -->
    <bean id="userController" class="com.message.main.user.web.UserController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/user/userInfo.do">showUserInfo</prop>
    					<prop key="/user/editUserInfo.do">inEditUserInfoJsp</prop>
    					<prop key="/user/saveUser.do">saveEdit</prop>
    					<prop key="/user/changePsw.do">inChangePswJsp</prop>
    					<prop key="/user/checkPsw.do">checkPsw</prop>
    					<prop key="/user/savePassword.do">savePassword</prop>
    					<prop key="/user/logout.do">logout</prop>
    					<prop key="/user/listAllUser.do">listAllUser</prop>
    					<prop key="/user/deleteUser.do">deleteUser</prop>
    					<prop key="/user/managerPerm.do">managerPerm</prop>
    					<prop key="/user/inAddUserJsp.do">inAddUserJsp</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="userService" ref="userService"/>
    	<property name="userPrivacyService" ref="userPrivacyService"/>
    </bean>
    
    <!-- 用户隐私配置的controller -->
    <bean id="userPrivacyController" class="com.message.main.user.web.UserPrivacyController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/privacy/inPrivacySetting.do">inPrivacySetting</prop>
    					<prop key="/privacy/savePrivacy.do">savePrivacy</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="userPrivacyService" ref="userPrivacyService"/>
    </bean>
    
    <!-- 投票的controller -->
    <bean id="voteController" class="com.message.main.vote.web.VoteController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/vote/createVote.do">createVote</prop>
    					<prop key="/vote/saveVote.do">saveVote</prop>
    					<prop key="/vote/listVote.do">listVote</prop>
    					<prop key="/vote/saveVoteResult.do">saveVoteResult</prop>
    					<prop key="/vote/viewVote.do">viewVote</prop>
    					<prop key="/vote/viewVoteResult.do">viewVoteResult</prop>
    					<prop key="/vote/listMyVote.do">listMyVote</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="voteService" ref="voteService"/>
    </bean>
    
    <!-- 菜单的controller -->
    <bean id="menuController" class="com.message.main.menu.web.MenuController">
    	<property name="methodNameResolver">
    		<bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
    			<property name="mappings">
    				<props>
    					<prop key="/menu/inMenuJsp.do">inMenuJsp</prop>
    					<prop key="/menu/ajaxLoadMenu.do">ajaxLoadMenu</prop>
    					<prop key="/menu/inEditJsp.do">inEditJsp</prop>
    					<prop key="/menu/inShowIcon.do">inShowIcon</prop>
    					<prop key="/menu/saveMenu.do">saveMenu</prop>
    					<prop key="/menu/delete.do">delete</prop>
    				</props>
    			</property>
    		</bean>
    	</property>
    	<property name="menuService" ref="menuService"/>
    </bean>

    <!-- 不用登录就可访问的controller -->
    <bean id="guestController" class="com.message.main.home.web.GuestController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/guest/login.do">login</prop>
                        <prop key="/guest/check.do">checkUser</prop>
                        <prop key="/guest/register.do">register</prop>
                        <prop key="/guest/emailConfirm.do">emailConfirm</prop>
                        <prop key="/guest/index.do">index</prop>
                        <prop key="/guest/error.do">error</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="userService" ref="userService"/>
    </bean>
    
    <!-- 文件上传的controller -->
    <bean id="uploadController" class="com.message.main.UploadController">
    	<property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                    	<prop key="/upload/upload.do">upload</prop>
                    </props>
                </property>
            </bean>
        </property>
    </bean>
	
</beans>